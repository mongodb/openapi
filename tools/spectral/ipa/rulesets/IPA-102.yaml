# IPA-102: Resource Identifiers
# http://go/ipa/102

rules:
  xgen-IPA-102-collection-identifier-camelCase:
    description: Collection identifiers must be in camelCase. http://go/ipa/102
    message: '{{error}} http://go/ipa/102'
    severity: warn
    given: $.paths
    then:
      field: '@key'
      function: collectionIdentifierCamelCase

  xgen-IPA-102-path-alternate-resource-name-path-param:
    description: 'Paths should alternate between resource names and path params. http://go/ipa/102'
    message: '{{error}} http://go/ipa/102'
    severity: error
    given: '$.paths'
    then:
      field: '@key'
      function: 'eachPathAlternatesBetweenResourceNameAndPathParam'

  xgen-IPA-102-collection-identifier-pattern:
    description: Collection identifiers must begin with a lowercase letter and contain only ASCII letters and numbers. http://go/ipa/102
    message: '{{error}} http://go/ipa/102'
    severity: warn
    given: $.paths
    then:
      field: '@key'
      function: collectionIdentifierPattern

functions:
  - collectionIdentifierPattern
  - eachPathAlternatesBetweenResourceNameAndPathParam
  - collectionIdentifierCamelCase
