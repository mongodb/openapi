# IPA-107: Update
# http://go/ipa/107

functions:
  - updateMethodMustNotHaveQueryParams

rules:
  xgen-IPA-107-put-must-not-have-query-params:
    description: >-
      Update operations must not accept query parameters. http://go/ipa/107
    message: '{{error}} http://go/ipa/107'
    severity: warn
    given: '$.paths[*].put'
    then:
      function: 'updateMethodMustNotHaveQueryParams'
      functionOptions:
        ignoredValues: [ 'pretty', 'envelope' ]
  xgen-IPA-107-patch-must-not-have-query-params:
    description: >-
      Update operations must not accept query parameters. http://go/ipa/107
    message: '{{error}} http://go/ipa/107'
    severity: warn
    given: '$.paths[*].patch'
    then:
      function: 'updateMethodMustNotHaveQueryParams'
      functionOptions:
        ignoredValues: [ 'pretty', 'envelope' ]
