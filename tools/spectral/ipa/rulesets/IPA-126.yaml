# IPA-126: Top-Level API Names
# http://go/ipa/126

functions:
  - IPA126TagNamesShouldUseTitleCase
rules:
  xgen-IPA-126-tag-names-should-use-title-case:
    description: |
      Tag names in the OpenAPI specification should use Title Case.

      ##### Implementation details
      Rule checks for the following conditions:
        - All tag names defined in the OpenAPI tags object should use Title Case 
        - Title Case means each word starts with an uppercase letter, and the rest are lowercase
    message: '{{error}} https://mdb.link/mongodb-atlas-openapi-validation#xgen-IPA-126-tag-names-should-use-title-case'
    severity: warn
    given: $.tags[?(@.name && @.name.length > 0)]
    then:
      function: 'IPA126TagNamesShouldUseTitleCase'
      functionOptions:
        ignoreList:
          - 'AWS'
          - 'DNS'
          - 'API'
          - 'IP'
          - 'MongoDB'
          - 'LDAP'
          - 'GCP'
