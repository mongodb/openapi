# IPA-100: Language
# https://mongodb.github.io/ipa/100

functions:
  - IPA100Spellcheck

rules:
  xgen-IPA-100-spellcheck:
    description: Test
    message: '{{error}} https://mdb.link/mongodb-atlas-openapi-validation#xgen-IPA-100-spellcheck'
    severity: warn
    resolved: false
    given:
      - '$.tags[*].name'
      - '$.tags[*].description'
      - '$.paths[*][*].summary'
      - '$.paths[*][*].description'
      - '$..externalDocs.description'
      - '$.paths[*][*].parameters[*].description'
      - '$.components.schemas[*]..description'
      - '$.components.parameters[*]..description'
    # - '$.openAPI.info.name'
      #- '$.openAPI.info.description'
    #- '$.paths..description'
    #- '$.components.schemas..description'
    #- '$.components.schemas..properties'
    #- '$.components.schemas..enum'
    then:
      function: 'IPA100Spellcheck'
      functionOptions:
        customWords:
          - 'MongoDB'
          - 'X.509'
          - 'X.509.'
          - 'OpenAPI'
          - 'Serverless'
          - 'serverless'
          - 'OAuth'
          - 'WiredTiger'
          - 'mongod'
          - 'mongos'
          - 'SCRAM-SHA'
          - 'VPC-peered'
          - '24-hexadecimal'
          - 'cloud.mongodb.com'
          - 'v2'
          - 'timestamp'
          - 'Timestamp'
          - '7-day'
          - 'IPv4'
          - 'IPv6'
          - 'API'
          - 'AWS'
          - 'GCP'
          - 'Azure'
        spellcheckOptions:
          ignoreAcronyms: true
          ignoreNumbers: true
          dictionary:
            language: 'en-us'