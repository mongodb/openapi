components:
    parameters:
        collectionName:
            description: Human-readable label that identifies the collection.
            in: path
            name: collectionName
            required: true
            schema:
                example: mycoll
                type: string
        databaseName:
            description: Human-readable label that identifies the database.
            in: path
            name: databaseName
            required: true
            schema:
                example: mydb
                type: string
        end:
            description: Date and time when MongoDB Cloud stops reporting the metrics. This parameter expresses its value in the ISO 8601 timestamp format in UTC. Include this parameter when you do not set **period**.
            in: query
            name: end
            schema:
                format: date-time
                type: string
        envelope:
            description: Flag that indicates whether Application wraps the response in an `envelope` JSON object. Some API clients cannot access the HTTP response headers or status code. To remediate this, set envelope=true in the query. Endpoints that return a list of results use the results object as an envelope. Application adds the status parameter to the response body.
            in: query
            name: envelope
            schema:
                default: false
                type: boolean
        federationSettingsId:
            description: Unique 24-hexadecimal digit string that identifies your federation.
            in: path
            name: federationSettingsId
            required: true
            schema:
                example: 55fa922fb343282757d9554e
                pattern: ^([a-f0-9]{24})$
                type: string
        granularity:
            description: Duration that specifies the interval at which Atlas reports the metrics. This parameter expresses its value in the ISO 8601 duration format in UTC.
            in: query
            name: granularity
            required: true
            schema:
                example: PT1M
                type: string
        groupId:
            description: |-
                Unique 24-hexadecimal digit string that identifies your project. Use the [/groups](#tag/Projects/operation/listProjects) endpoint to retrieve all projects to which the authenticated user has access.

                **NOTE**: Groups and projects are synonymous terms. Your group id is the same as your project id. For existing groups, your group/project id remains the same. The resource and corresponding endpoints use the term groups.
            in: path
            name: groupId
            required: true
            schema:
                example: 32b6e34b3d91647abb20e7b8
                pattern: ^([a-f0-9]{24})$
                type: string
            x-xgen-IPA-exception:
                xgen-IPA-117-description-should-not-use-inline-links: Parameters don't support externalDocs.
        identityProviderId:
            description: Legacy 20-hexadecimal digit string that identifies the identity provider. This id can be found within the Federation Management Console > Identity Providers tab by clicking the info icon in the IdP ID row of a configured identity provider.
            in: path
            name: identityProviderId
            required: true
            schema:
                example: c2777a9eca931f29fc2f
                pattern: ^([a-f0-9]{20})$
                type: string
        includeCount:
            description: Flag that indicates whether the response returns the total number of items (`totalCount`) in the response.
            in: query
            name: includeCount
            schema:
                default: true
                type: boolean
        indexName:
            description: Human-readable label that identifies the index.
            in: path
            name: indexName
            required: true
            schema:
                example: myindex
                type: string
        itemsPerPage:
            description: Number of items that the response returns per page.
            in: query
            name: itemsPerPage
            schema:
                default: 100
                maximum: 500
                minimum: 1
                type: integer
        liveMigrationId:
            description: Unique 24-hexadecimal digit string that identifies the migration.
            in: path
            name: liveMigrationId
            required: true
            schema:
                example: 6296fb4c7c7aa997cf94e9a8
                pattern: ^([a-f0-9]{24})$
                type: string
        orgId:
            description: Unique 24-hexadecimal digit string that identifies the organization that contains your projects. Use the [`/orgs`](#tag/Organizations/operation/listOrganizations) endpoint to retrieve all organizations to which the authenticated user has access.
            in: path
            name: orgId
            required: true
            schema:
                example: 4888442a3354817a7320eb61
                pattern: ^([a-f0-9]{24})$
                type: string
            x-xgen-IPA-exception:
                xgen-IPA-117-description-should-not-use-inline-links: Parameters don't support externalDocs.
        pageNum:
            description: Number of the page that displays the current set of the total objects that the response returns.
            in: query
            name: pageNum
            schema:
                default: 1
                minimum: 1
                type: integer
        period:
            description: Duration over which Atlas reports the metrics. This parameter expresses its value in the ISO 8601 duration format in UTC. Include this parameter when you do not set **start** and **end**.
            in: query
            name: period
            schema:
                example: PT10H
                type: string
        pretty:
            description: Flag that indicates whether the response body should be in the prettyprint format.
            in: query
            name: pretty
            schema:
                default: false
                externalDocs:
                    description: Prettyprint
                    url: https://en.wikipedia.org/wiki/Prettyprint
                type: boolean
        processId:
            description: Combination of hostname and IANA port that serves the MongoDB process. The host must be the hostname, fully qualified domain name (FQDN), or Internet Protocol address (IPv4 or IPv6) of the host that runs the MongoDB process (mongod or mongos). The port must be the IANA port on which the MongoDB process listens for requests.
            in: path
            name: processId
            required: true
            schema:
                example: my.host.name.com:27017
                pattern: ^([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-f]{1,4}\:){7}([0-9a-f]{1,4})|(([a-z0-9]+\.){1,10}[a-z]+)?(\:[0-9]{4,5})$
                type: string
        sandboxConfigId:
            description: Unique 24-hexadecimal digit string that identifies the sandbox configuration.
            in: path
            name: sandboxConfigId
            required: true
            schema:
                example: 507f1f77bcf86cd799439011
                pattern: ^([a-f0-9]{24})$
                type: string
        start:
            description: Date and time when MongoDB Cloud begins reporting the metrics. This parameter expresses its value in the ISO 8601 timestamp format in UTC. Include this parameter when you do not set **period**.
            in: query
            name: start
            schema:
                format: date-time
                type: string
    responses:
        accepted:
            description: Accepted.
        badRequest:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint) No provider AWS exists.
                        error: 400
                        errorCode: VALIDATION_ERROR
                        reason: Bad Request
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Bad Request.
        conflict:
            content:
                application/json:
                    example:
                        detail: '(This is just an example, the exception may not be related to this endpoint) Cannot delete organization link while there is active migration in following project ids: 60c4fd418ebe251047c50554'
                        error: 409
                        errorCode: CANNOT_DELETE_ORG_ACTIVE_LIVE_MIGRATION_ATLAS_ORG_LINK
                        reason: Conflict
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Conflict.
        forbidden:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint)
                        error: 403
                        errorCode: CANNOT_CHANGE_GROUP_NAME
                        reason: Forbidden
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Forbidden.
        gone:
            content:
                application/json:
                    example:
                        detail: This happens when a resource is marked for sunset and the sunset date is in the past.
                        error: 410
                        errorCode: VERSION_GONE
                        reason: Gone
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Gone.
        internalServerError:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint)
                        error: 500
                        errorCode: UNEXPECTED_ERROR
                        reason: Internal Server Error
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Internal Server Error.
        methodNotAllowed:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint)
                        error: 405
                        errorCode: ATLAS_BACKUP_CANCEL_SHARD_RESTORE_JOB_NOT_ALLOWED
                        reason: Method Not Allowed
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Method Not Allowed.
        noBody:
            description: This endpoint does not return a response body.
        notFound:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint) Cannot find resource AWS
                        error: 404
                        errorCode: RESOURCE_NOT_FOUND
                        reason: Not Found
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Not Found.
        paymentRequired:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint)
                        error: 402
                        errorCode: NO_PAYMENT_INFORMATION_FOUND
                        reason: Payment Required
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Payment Required.
        tooManyRequests:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint)
                        error: 429
                        errorCode: RATE_LIMITED
                        reason: Too Many Requests
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Too Many Requests.
        unauthorized:
            content:
                application/json:
                    example:
                        detail: (This is just an example, the exception may not be related to this endpoint)
                        error: 401
                        errorCode: NOT_ORG_GROUP_CREATOR
                        reason: Unauthorized
                    schema:
                        $ref: '#/components/schemas/ApiError'
            description: Unauthorized.
    schemas:
        ApiError:
            properties:
                badRequestDetail:
                    $ref: '#/components/schemas/BadRequestDetail'
                detail:
                    description: Describes the specific conditions or reasons that cause each type of error.
                    type: string
                error:
                    description: HTTP status code returned with this error.
                    externalDocs:
                        url: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status
                    format: int32
                    readOnly: true
                    type: integer
                errorCode:
                    description: Application error code returned with this error.
                    readOnly: true
                    type: string
                parameters:
                    description: Parameters used to give more information about the error.
                    items:
                        readOnly: true
                        type: object
                    readOnly: true
                    type: array
                reason:
                    description: Application error message returned with this error.
                    readOnly: true
                    type: string
            required:
                - error
                - errorCode
            type: object
        AtlasRateLimitBucketState:
            description: Configuration and current state of a single rate limit token bucket.
            properties:
                capacity:
                    description: The capacity of the bucket.
                    format: int64
                    readOnly: true
                    type: integer
                name:
                    description: The name of the bucket.
                    readOnly: true
                    type: string
                remaining:
                    description: The remaining tokens of the bucket.
                    format: int64
                    readOnly: true
                    type: integer
            readOnly: true
            type: object
        AtlasRateLimitInspectionResponse:
            description: Rate limit inspection response containing bucket states for debugging and monitoring.
            properties:
                limits:
                    description: List of bucket states.
                    items:
                        $ref: '#/components/schemas/AtlasRateLimitBucketState'
                    readOnly: true
                    type: array
                scope:
                    description: The scope type of the rate limit.
                    enum:
                        - GROUP
                        - ORGANIZATION
                        - USER
                        - IP
                    readOnly: true
                    type: string
                scopeId:
                    description: The scope id associated to the bucket.
                    readOnly: true
                    type: string
            type: object
        BadRequestDetail:
            description: Bad request detail.
            properties:
                fields:
                    description: Describes all violations in a client request.
                    items:
                        $ref: '#/components/schemas/FieldViolation'
                    type: array
            readOnly: true
            type: object
        FieldViolation:
            properties:
                description:
                    description: A description of why the request element is bad.
                    type: string
                field:
                    description: A path that leads to a field in the request body.
                    type: string
            required:
                - description
                - field
            type: object
        Link:
            properties:
                href:
                    description: Uniform Resource Locator (URL) that points another API resource to which this response has some relationship. This URL often begins with `https://cloud.mongodb.com/api/atlas`.
                    example: https://cloud.mongodb.com/api/atlas
                    type: string
                rel:
                    description: Uniform Resource Locator (URL) that defines the semantic relationship between this resource and another API resource. This URL often begins with `https://cloud.mongodb.com/api/atlas`.
                    example: self
                    type: string
            type: object
        PaginatedRateLimitEndpointSets:
            description: A list of rate limit endpoint sets.
            properties:
                links:
                    description: List of one or more Uniform Resource Locators (URLs) that point to API sub-resources, related API resources, or both. RFC 5988 outlines these relationships.
                    externalDocs:
                        description: Web Linking Specification (RFC 5988)
                        url: https://datatracker.ietf.org/doc/html/rfc5988
                    items:
                        $ref: '#/components/schemas/Link'
                    readOnly: true
                    type: array
                results:
                    description: List of returned documents that MongoDB Cloud provides when completing this request.
                    items:
                        $ref: '#/components/schemas/RateLimitEndpointSetResponse'
                    readOnly: true
                    type: array
                totalCount:
                    description: Total number of documents available. MongoDB Cloud omits this value if `includeCount` is set to `false`. The total number is an estimate and may not be exact.
                    format: int32
                    minimum: 0
                    readOnly: true
                    type: integer
            type: object
        RateLimitEndpointSetCapacity:
            description: The rate limit capacity for the endpoint set.
            properties:
                defaultValue:
                    description: The default request capacity of the endpoint set. Returned if there is a capacity override set for the requested entity.
                    format: int64
                    type: integer
                value:
                    description: The applied request capacity of the endpoint set.
                    format: int64
                    type: integer
            type: object
        RateLimitEndpointSetEndpoint:
            properties:
                method:
                    description: The HTTP method of the endpoint.
                    enum:
                        - GET
                        - POST
                        - PUT
                        - DELETE
                        - PATCH
                    type: string
                path:
                    description: The URL path of the endpoint.
                    example: /api/atlas/v2/rateLimits
                    type: string
            type: object
        RateLimitEndpointSetRefillDurationSeconds:
            description: The rate limit refill duration for the endpoint set.
            properties:
                defaultValue:
                    description: The default rate limit refill duration, in seconds, of the endpoint set. Returned if there is a rate limit refill duration override set for the requested entity.
                    format: int64
                    type: integer
                value:
                    description: The applied rate limit refill duration of the endpoint set.
                    format: int64
                    type: integer
            type: object
        RateLimitEndpointSetRefillRate:
            description: The rate limit refill rate for the endpoint set.
            properties:
                defaultValue:
                    description: The default rate limit refill rate of the endpoint set. Returned if there is a rate limit refill rate override set for the requested entity.
                    format: int64
                    type: integer
                value:
                    description: The applied rate limit refill rate of the endpoint set.
                    format: int64
                    type: integer
            type: object
        RateLimitEndpointSetResponse:
            properties:
                capacity:
                    $ref: '#/components/schemas/RateLimitEndpointSetCapacity'
                endpointSetId:
                    description: The ID of the endpoint set.
                    example: rateLimitsInspection_group
                    type: string
                endpointSetName:
                    description: The endpoint set name.
                    example: Rate Limits Inspection
                    type: string
                endpoints:
                    description: A list of endpoints associated with the specified endpoint set.
                    items:
                        $ref: '#/components/schemas/RateLimitEndpointSetEndpoint'
                    maxItems: 100
                    type: array
                    uniqueItems: true
                refillDurationSeconds:
                    $ref: '#/components/schemas/RateLimitEndpointSetRefillDurationSeconds'
                refillRate:
                    $ref: '#/components/schemas/RateLimitEndpointSetRefillRate'
                scope:
                    description: The scope of the endpoint set.
                    enum:
                        - IP
                        - GROUP
                        - ORGANIZATION
                        - USER
                    type: string
            type: object
    securitySchemes:
        DigestAuth:
            scheme: digest
            type: http
        ServiceAccounts:
            description: Learn more about [Service Accounts](https://www.mongodb.com/docs/atlas/api/service-accounts-overview).
            flows:
                clientCredentials:
                    scopes: {}
                    tokenUrl: https://cloud.mongodb.com/api/oauth/token
            type: oauth2
info:
    description: |-
        The MongoDB Atlas Administration API allows developers to manage all components in MongoDB Atlas.

        The Atlas Administration API uses OAuth2 Service Accounts or HTTP Digest Authentication to authenticate requests. Provide a programmatic API public key and corresponding private key as the username and password when constructing the HTTP request. For example, to [return database access history](#tag/Access-Tracking/operation/listAccessLogsByClusterName) with [cURL](https://en.wikipedia.org/wiki/CURL), run the following command in the terminal:

        ```
        curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" \
          --digest \
          --header "Accept: application/vnd.atlas.private-preview-rate-limit+json" \
          -X GET "https://cloud.mongodb.com/api/atlas/v2/groups/{groupId}/dbAccessHistory/clusters/{clusterName}?pretty=true"
        ```

        To learn more, see [Get Started with the Atlas Administration API](https://www.mongodb.com/docs/atlas/configure-api-access/). For support, see [MongoDB Support](https://www.mongodb.com/support/get-started).

        You can also explore the various endpoints available through the Atlas Administration API in MongoDB's [Postman workspace](https://www.postman.com/mongodb-devrel/workspace/mongodb-atlas-administration-apis/).
    license:
        name: CC BY-NC-SA 3.0 US
        url: https://creativecommons.org/licenses/by-nc-sa/3.0/us/
    termsOfService: https://www.mongodb.com/mongodb-management-service-terms-and-conditions
    title: MongoDB Atlas Administration API
    version: "2.0"
    x-xgen-sha: 31c9ec2900a9661538a759956f849395798f7f0c
openapi: 3.0.1
paths:
    /api/atlas/v2/groups/{groupId}/ratelimits:
        get:
            description: |-
                This API is in preview. Breaking changes might be introduced before it is released. Don't use preview APIs in production.

                 Retrieve rate limiting bucket state for the specified group.
            operationId: getGroupRatelimits
            parameters:
                - $ref: '#/components/parameters/groupId'
                - $ref: '#/components/parameters/envelope'
            responses:
                "200":
                    content:
                        application/vnd.atlas.preview+json:
                            schema:
                                $ref: '#/components/schemas/AtlasRateLimitInspectionResponse'
                            x-xgen-preview:
                                name: rate-limit
                                public: "false"
                            x-xgen-version: private-preview-rate-limit
                    description: OK
                "400":
                    $ref: '#/components/responses/badRequest'
                "401":
                    $ref: '#/components/responses/unauthorized'
                "403":
                    $ref: '#/components/responses/forbidden'
                "404":
                    $ref: '#/components/responses/notFound'
                "500":
                    $ref: '#/components/responses/internalServerError'
            summary: Return Rate Limit State for One Group
            tags:
                - Rate Limit
            x-beta: true
            x-codeSamples:
                - label: Atlas CLI
                  lang: cURL
                  source: atlas api rateLimit getGroupRatelimits --help
                - label: curl (Service Accounts)
                  lang: cURL
                  source: |-
                    curl --include --header "Authorization: Bearer ${ACCESS_TOKEN}" \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/groups/{groupId}/ratelimits?pretty=true"
                - label: curl (Digest)
                  lang: cURL
                  source: |-
                    curl --user "${PUBLIC_KEY}:${PRIVATE_KEY}" \
                      --digest --include \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/groups/{groupId}/ratelimits?pretty=true"
            x-state:
                color: '#B89D09'
                label: PREVIEW
            x-xgen-docs-url: https://mongodb.com/docs/atlas/reference/api-resources-spec/v2/#tag/Rate-Limit/operation/getGroupRatelimits
    /api/atlas/v2/orgs/{orgId}/ratelimits:
        get:
            description: |-
                This API is in preview. Breaking changes might be introduced before it is released. Don't use preview APIs in production.

                 Retrieve rate limiting bucket state for the specified organization.
            operationId: getOrgRatelimits
            parameters:
                - $ref: '#/components/parameters/orgId'
                - $ref: '#/components/parameters/envelope'
            responses:
                "200":
                    content:
                        application/vnd.atlas.preview+json:
                            schema:
                                $ref: '#/components/schemas/AtlasRateLimitInspectionResponse'
                            x-xgen-preview:
                                name: rate-limit
                                public: "false"
                            x-xgen-version: private-preview-rate-limit
                    description: OK
                "400":
                    $ref: '#/components/responses/badRequest'
                "401":
                    $ref: '#/components/responses/unauthorized'
                "403":
                    $ref: '#/components/responses/forbidden'
                "404":
                    $ref: '#/components/responses/notFound'
                "500":
                    $ref: '#/components/responses/internalServerError'
            summary: Return Rate Limit State for One Organization
            tags:
                - Rate Limit
            x-beta: true
            x-codeSamples:
                - label: Atlas CLI
                  lang: cURL
                  source: atlas api rateLimit getOrgRatelimits --help
                - label: curl (Service Accounts)
                  lang: cURL
                  source: |-
                    curl --include --header "Authorization: Bearer ${ACCESS_TOKEN}" \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/orgs/{orgId}/ratelimits?pretty=true"
                - label: curl (Digest)
                  lang: cURL
                  source: |-
                    curl --user "${PUBLIC_KEY}:${PRIVATE_KEY}" \
                      --digest --include \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/orgs/{orgId}/ratelimits?pretty=true"
            x-state:
                color: '#B89D09'
                label: PREVIEW
            x-xgen-docs-url: https://mongodb.com/docs/atlas/reference/api-resources-spec/v2/#tag/Rate-Limit/operation/getOrgRatelimits
    /api/atlas/v2/rateLimits:
        get:
            description: |-
                This API is in preview. Breaking changes might be introduced before it is released. Don't use preview APIs in production.

                 Get all rate limits for all v2 Atlas Administration API endpoint sets.
            operationId: listRateLimits
            parameters:
                - $ref: '#/components/parameters/itemsPerPage'
                - $ref: '#/components/parameters/pageNum'
                - $ref: '#/components/parameters/pretty'
                - $ref: '#/components/parameters/envelope'
                - description: Unique 24-hexadecimal digit string that identifies the Atlas Project to request rate limits for. When this parameter is provided, only group scoped endpoint sets are returned and the limits returned are applicable to the specified project. The requesting user must have the Project Read Only role for the specified project.
                  in: query
                  name: groupId
                  schema:
                    example: 32b6e34b3d91647abb20e7b8
                    pattern: ^([a-f0-9]{24})$
                    type: string
                - description: Unique 24-hexadecimal digit string that identifies the Atlas Organization to request rate limits for. When this parameter is provided, only organization scoped endpoint sets are returned and the limits returned are applicable to the specified organization. The requesting user must have the Organization Read Only role for the specified organization.
                  in: query
                  name: orgId
                  schema:
                    example: 32b6e34b3d91647abb20e7b8
                    pattern: ^([a-f0-9]{24})$
                    type: string
                - description: A string that identifies the Atlas user to request rate limits for. The ID can for example be the Service Account Client ID or the API Public Key. When this parameter is provided, only user scoped endpoint sets are returned and the limits returned are applicable to the specified user. The requesting user must be the same as the specified user.
                  in: query
                  name: userId
                  schema:
                    example: mdb_sa_id_1234567890abcdef12345678
                    type: string
                - description: An IP address to request rate limits for. When this parameter is provided, only IP scoped endpoint sets are returned and the limits returned are applicable to the specified IP address. The requesting user must have the same IP address as the one provided in the request.
                  in: query
                  name: ipAddress
                  schema:
                    example: 127.0.0.1
                    pattern: ^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)(\.(?!$)|$)){4}|([0-9a-f]{1,4}:){7}[0-9a-f]{1,4}$
                    type: string
                - description: Filters the returned endpoint sets by the provided endpoint set name. Multiple names may be provided, for example `/rateLimits?name=Name1&name=Name2`. For names that use spaces, replace the space with its URL-encoded value (`%20`).
                  in: query
                  name: name
                  schema:
                    example: Rate Limits Inspection
                    type: string
                - description: Filters the returned endpoint sets by the provided endpoint path. Multiple paths may be provided, for example `/rateLimits?endpointPath=%2Fapi%2Fatlas%2Fv2%2Fclusters&endpointPath=%2Fapi%2Fatlas%2Fv2%2Fgroups%2F%7BgroupId%7D%2F`. Replace `/`, `{` and `}` with their URL-encoded values (`%2F`, `%7B` and `%7D` respectively).
                  in: query
                  name: endpointPath
                  schema:
                    example: /api/atlas/v2/clusters
                    type: string
            responses:
                "200":
                    content:
                        application/vnd.atlas.preview+json:
                            schema:
                                $ref: '#/components/schemas/PaginatedRateLimitEndpointSets'
                            x-xgen-preview:
                                name: rate-limit
                                public: "false"
                            x-xgen-version: private-preview-rate-limit
                    description: OK
                "400":
                    $ref: '#/components/responses/badRequest'
                "401":
                    $ref: '#/components/responses/unauthorized'
                "403":
                    $ref: '#/components/responses/forbidden'
                "500":
                    $ref: '#/components/responses/internalServerError'
            summary: Return All Rate Limits
            tags:
                - Rate Limit
            x-beta: true
            x-codeSamples:
                - label: Atlas CLI
                  lang: cURL
                  source: atlas api rateLimit listRateLimits --help
                - label: curl (Service Accounts)
                  lang: cURL
                  source: |-
                    curl --include --header "Authorization: Bearer ${ACCESS_TOKEN}" \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/rateLimits?pretty=true"
                - label: curl (Digest)
                  lang: cURL
                  source: |-
                    curl --user "${PUBLIC_KEY}:${PRIVATE_KEY}" \
                      --digest --include \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/rateLimits?pretty=true"
            x-state:
                color: '#B89D09'
                label: PREVIEW
            x-xgen-docs-url: https://mongodb.com/docs/atlas/reference/api-resources-spec/v2/#tag/Rate-Limit/operation/listRateLimits
    /api/atlas/v2/rateLimits/{endpointSetId}:
        get:
            description: |-
                This API is in preview. Breaking changes might be introduced before it is released. Don't use preview APIs in production.

                 Get one rate limit endpoint set.
            operationId: getRateLimit
            parameters:
                - description: The ID of the rate limit endpoint set.
                  in: path
                  name: endpointSetId
                  required: true
                  schema:
                    example: rateLimitsInspection_group
                    type: string
                - $ref: '#/components/parameters/pretty'
                - $ref: '#/components/parameters/envelope'
                - description: Unique 24-hexadecimal digit string that identifies the Atlas Project to request rate limits for. When this parameter is provided, the limits returned are applicable to the specified project. The requesting user must have the Project Read Only role for the specified project.
                  in: query
                  name: groupId
                  schema:
                    example: 32b6e34b3d91647abb20e7b8
                    pattern: ^([a-f0-9]{24})$
                    type: string
                - description: Unique 24-hexadecimal digit string that identifies the Atlas Organization to request rate limits for. When this parameter is provided, the limits returned are applicable to the specified organization. The requesting user must have the Organization Read Only role for the specified organization.
                  in: query
                  name: orgId
                  schema:
                    example: 32b6e34b3d91647abb20e7b8
                    pattern: ^([a-f0-9]{24})$
                    type: string
                - description: A string that identifies the Atlas user to request rate limits for. The ID can for example be the Service Account Client ID or the API Public Key. When this parameter is provided, the limits returned are applicable to the specified  user. The requesting user must be the same as the specified user.
                  in: query
                  name: userId
                  schema:
                    example: mdb_sa_id_1234567890abcdef12345678
                    type: string
                - description: An IP address to request rate limits for. When this parameter is provided, the limits returned are applicable to the specified IP address. The requesting user must have the same IP address as the one provided in the request.
                  in: query
                  name: ipAddress
                  schema:
                    example: 127.0.0.1
                    pattern: ^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)(\.(?!$)|$)){4}|([0-9a-f]{1,4}:){7}[0-9a-f]{1,4}$
                    type: string
            responses:
                "200":
                    content:
                        application/vnd.atlas.preview+json:
                            schema:
                                $ref: '#/components/schemas/RateLimitEndpointSetResponse'
                            x-xgen-preview:
                                name: rate-limit
                                public: "false"
                            x-xgen-version: private-preview-rate-limit
                    description: OK
                "400":
                    $ref: '#/components/responses/badRequest'
                "401":
                    $ref: '#/components/responses/unauthorized'
                "403":
                    $ref: '#/components/responses/forbidden'
                "404":
                    $ref: '#/components/responses/notFound'
                "500":
                    $ref: '#/components/responses/internalServerError'
            summary: Return One Rate Limit
            tags:
                - Rate Limit
            x-beta: true
            x-codeSamples:
                - label: Atlas CLI
                  lang: cURL
                  source: atlas api rateLimit getRateLimit --help
                - label: curl (Service Accounts)
                  lang: cURL
                  source: |-
                    curl --include --header "Authorization: Bearer ${ACCESS_TOKEN}" \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/rateLimits/{endpointSetId}?pretty=true"
                - label: curl (Digest)
                  lang: cURL
                  source: |-
                    curl --user "${PUBLIC_KEY}:${PRIVATE_KEY}" \
                      --digest --include \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/rateLimits/{endpointSetId}?pretty=true"
            x-state:
                color: '#B89D09'
                label: PREVIEW
            x-xgen-docs-url: https://mongodb.com/docs/atlas/reference/api-resources-spec/v2/#tag/Rate-Limit/operation/getRateLimit
    /api/atlas/v2/unauth/ratelimits:
        get:
            description: |-
                This API is in preview. Breaking changes might be introduced before it is released. Don't use preview APIs in production.

                 Retrieve rate limiting bucket state for unauthenticated requests.
            operationId: listRatelimits
            parameters:
                - $ref: '#/components/parameters/envelope'
            responses:
                "200":
                    content:
                        application/vnd.atlas.preview+json:
                            schema:
                                $ref: '#/components/schemas/AtlasRateLimitInspectionResponse'
                            x-xgen-IPA-exception:
                                xgen-IPA-110-collections-response-define-links-array: The API is in private preview. We will fix this before moving to stable.
                                xgen-IPA-110-collections-response-define-results-array: The API is in private preview. We will fix this before moving to stable.
                                xgen-IPA-110-collections-use-paginated-prefix: The API is in private preview. We will fix this before moving to stable.
                            x-xgen-preview:
                                name: rate-limit
                                public: "false"
                            x-xgen-version: private-preview-rate-limit
                    description: OK
                "400":
                    $ref: '#/components/responses/badRequest'
                "401":
                    $ref: '#/components/responses/unauthorized'
                "403":
                    $ref: '#/components/responses/forbidden'
                "404":
                    $ref: '#/components/responses/notFound'
                "500":
                    $ref: '#/components/responses/internalServerError'
            summary: Return Rate Limit State for Unauthenticated Requests
            tags:
                - Rate Limit
            x-beta: true
            x-codeSamples:
                - label: Atlas CLI
                  lang: cURL
                  source: atlas api rateLimit listRatelimits --help
                - label: curl (Service Accounts)
                  lang: cURL
                  source: |-
                    curl --include --header "Authorization: Bearer ${ACCESS_TOKEN}" \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/unauth/ratelimits?pretty=true"
                - label: curl (Digest)
                  lang: cURL
                  source: |-
                    curl --user "${PUBLIC_KEY}:${PRIVATE_KEY}" \
                      --digest --include \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/unauth/ratelimits?pretty=true"
            x-state:
                color: '#B89D09'
                label: PREVIEW
            x-xgen-docs-url: https://mongodb.com/docs/atlas/reference/api-resources-spec/v2/#tag/Rate-Limit/operation/listRatelimits
    /api/atlas/v2/userRateLimits:
        get:
            description: |-
                This API is in preview. Breaking changes might be introduced before it is released. Don't use preview APIs in production.

                 Retrieve rate limiting bucket state for the current user.
            operationId: listUserRatelimits
            parameters:
                - $ref: '#/components/parameters/envelope'
            responses:
                "200":
                    content:
                        application/vnd.atlas.preview+json:
                            schema:
                                $ref: '#/components/schemas/AtlasRateLimitInspectionResponse'
                            x-xgen-IPA-exception:
                                xgen-IPA-110-collections-response-define-links-array: The API is in private preview. We will fix this before moving to stable.
                                xgen-IPA-110-collections-response-define-results-array: The API is in private preview. We will fix this before moving to stable.
                                xgen-IPA-110-collections-use-paginated-prefix: The API is in private preview. We will fix this before moving to stable.
                            x-xgen-preview:
                                name: rate-limit
                                public: "false"
                            x-xgen-version: private-preview-rate-limit
                    description: OK
                "400":
                    $ref: '#/components/responses/badRequest'
                "401":
                    $ref: '#/components/responses/unauthorized'
                "403":
                    $ref: '#/components/responses/forbidden'
                "500":
                    $ref: '#/components/responses/internalServerError'
            summary: Return Rate Limit State for One User
            tags:
                - Rate Limit
            x-beta: true
            x-codeSamples:
                - label: Atlas CLI
                  lang: cURL
                  source: atlas api rateLimit listUserRatelimits --help
                - label: curl (Service Accounts)
                  lang: cURL
                  source: |-
                    curl --include --header "Authorization: Bearer ${ACCESS_TOKEN}" \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/userRateLimits?pretty=true"
                - label: curl (Digest)
                  lang: cURL
                  source: |-
                    curl --user "${PUBLIC_KEY}:${PRIVATE_KEY}" \
                      --digest --include \
                      --header "Accept: application/vnd.atlas.preview+json" \
                      -X GET "https://cloud.mongodb.com/api/atlas/v2/userRateLimits?pretty=true"
            x-state:
                color: '#B89D09'
                label: PREVIEW
            x-xgen-docs-url: https://mongodb.com/docs/atlas/reference/api-resources-spec/v2/#tag/Rate-Limit/operation/listUserRatelimits
security:
    - ServiceAccounts: []
    - DigestAuth: []
servers:
    - url: https://cloud.mongodb.com
tags:
    - description: Inspect Rate Limit bucket states.
      name: Rate Limit
x-externalLinks:
    - label: Back to Atlas Docs
      url: https://www.mongodb.com/docs/atlas/
    - label: API Changelog
      url: https://www.mongodb.com/docs/atlas/reference/api-resources-spec/changelog/
